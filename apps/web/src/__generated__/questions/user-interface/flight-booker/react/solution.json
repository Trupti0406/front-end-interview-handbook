{
  "author": null,
  "files": {
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-questions/flight-booker-react-solution\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"dependencies\": {\n    \"react\": \"18.2.0\",\n    \"react-dom\": \"18.2.0\",\n    \"react-scripts\": \"5.0.1\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"eject\": \"react-scripts eject\"\n  }\n}\n"
    },
    "/public/index.html": {
      "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0\" />\n  </head>\n  <body>\n    <div id=\"root\"></div>\n  </body>\n</html>\n"
    },
    "/src/App.js": {
      "code": "import './styles.css';\n\nimport { useState } from 'react';\n\nconst TODAY = formatDate(new Date());\nconst DAY_IN_SECONDS = 24 * 60 * 60 * 1000;\n\nfunction formatDate(date) {\n  const year = date.getFullYear();\n  const month = (date.getMonth() + 1)\n    .toString()\n    .padStart(2, '0');\n  const day = date.getDate().toString().padStart(2, '0');\n\n  return [year, month, day].join('-');\n}\n\nexport default function App() {\n  const [flightOption, setFlightOption] =\n    useState('one-way');\n  const [departureDate, setDepartureDate] = useState(\n    formatDate(new Date(Date.now() + DAY_IN_SECONDS)), // Tomorrow.\n  );\n  const [returnDate, setReturnDate] =\n    useState(departureDate);\n\n  return (\n    <div>\n      <form\n        className=\"flight-booker\"\n        onSubmit={(event) => {\n          event.preventDefault();\n          if (flightOption === 'one-way') {\n            alert(\n              `You have booked a one-way flight on ${departureDate}`,\n            );\n            return;\n          }\n\n          alert(\n            `You have booked a return flight, departing on ${departureDate} and returning on ${returnDate}`,\n          );\n        }}>\n        <select\n          value={flightOption}\n          onChange={(event) => {\n            setFlightOption(event.target.value);\n          }}>\n          <option value=\"one-way\">One-way flight</option>\n          <option value=\"return\">Return flight</option>\n        </select>\n        <input\n          aria-label=\"Departure date\"\n          type=\"date\"\n          value={departureDate}\n          onChange={(event) => {\n            setDepartureDate(event.target.value);\n          }}\n          min={TODAY}\n        />\n        {flightOption === 'return' && (\n          <input\n            aria-label=\"Return date\"\n            type=\"date\"\n            value={returnDate}\n            min={departureDate}\n            onChange={(event) => {\n              setReturnDate(event.target.value);\n            }}\n          />\n        )}\n        <button>Book</button>\n      </form>\n    </div>\n  );\n}\n"
    },
    "/src/index.js": {
      "code": "import React, { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n);\n"
    },
    "/src/styles.css": {
      "code": "body {\n  font-family: sans-serif;\n}\n\n.flight-booker {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin: 0 auto;\n  max-width: 320px;\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/src/App.js",
      "/src/styles.css"
    ],
    "activeFile": "/src/App.js",
    "environment": "create-react-app"
  },
  "writeup": "var Component=(()=>{var v=Object.create;var l=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var D=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),O=(n,e)=>{for(var a in e)l(n,a,{get:e[a],enumerable:!0})},u=(n,e,a,h)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of y(e))!M.call(n,o)&&o!==a&&l(n,o,{get:()=>e[o],enumerable:!(h=_(e,o))||h.enumerable});return n};var d=(n,e,a)=>(a=n!=null?v(k(n)):{},u(e||!n||!n.__esModule?l(a,\"default\",{value:n,enumerable:!0}):a,n)),S=n=>u(l({},\"__esModule\",{value:!0}),n);var c=D((A,m)=>{m.exports=_jsx_runtime});var Y={};O(Y,{default:()=>L});var t=d(c());var i=d(c());function f(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{children:\"Test Cases\"}),`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsxs)(e.li,{children:[\"One-way flight\",`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Only one datepicker is shown.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submission is blocked when a date in the past is selected.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submitting with a date in the future shows the success message.\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(e.li,{children:[\"Return flight\",`\n`,(0,i.jsxs)(e.ul,{children:[`\n`,(0,i.jsx)(e.li,{children:\"Two datepickers are shown.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submission is blocked when dates in the past are selected.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submission is blocked when the return date is earlier than the start date.\"}),`\n`,(0,i.jsx)(e.li,{children:\"Submitting with dates in the future shows the success message.\"}),`\n`]}),`\n`]}),`\n`]})]})}function C(n={}){let{wrapper:e}=n.components||{};return e?(0,i.jsx)(e,Object.assign({},n,{children:(0,i.jsx)(f,n)})):f(n)}var p=C;var r=d(c());function g(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\"},n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{children:\"Accessibility\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsxs)(e.li,{children:[\"Since the \",(0,r.jsx)(e.code,{children:\"<input>\"}),\" fields don't have visible labels, \",(0,r.jsx)(e.code,{children:\"aria-label\"}),\"s can be used to label the fields for screenreaders.\"]}),`\n`,(0,r.jsxs)(e.li,{children:[\"Wrapping the fields in a \",(0,r.jsx)(e.code,{children:\"<form>\"}),\" enables default form submission behavior.\"]}),`\n`]})]})}function F(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(g,n)})):g(n)}var b=F;var s=d(c());function w(n){let e=Object.assign({h2:\"h2\",ul:\"ul\",li:\"li\"},n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{children:\"User Experience\"}),`\n`,(0,s.jsxs)(e.ul,{children:[`\n`,(0,s.jsx)(e.li,{children:\"The datepickers are prefilled with tomorrow's date as a nice default.\"}),`\n`]})]})}function T(n={}){let{wrapper:e}=n.components||{};return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(w,n)})):w(n)}var x=T;function j(n){let e=Object.assign({h2:\"h2\",p:\"p\",h3:\"h3\",code:\"code\",a:\"a\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Solution\"}),`\n`,(0,t.jsx)(e.p,{children:\"This question evaluates your knowledge of form validation and dependent form fields.\"}),`\n`,(0,t.jsx)(e.h3,{children:\"Rendering\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"We can use \",(0,t.jsx)(e.code,{children:'<input type=\"date\">'}),\" to render native datepickers, which has over \",(0,t.jsx)(e.a,{href:\"https://caniuse.com/?search=input%20date\",children:\"96% browser support globally\"}),\" at this time of writing. Native datepickers also come with the \",(0,t.jsx)(e.code,{children:\"min\"}),\" attributes, which we can use for ensuring that only valid dates are chosen.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"The input fields and buttons are also wrapped in a \",(0,t.jsx)(e.code,{children:\"<form>\"}),' so that we can leverage native form submission and validation. Submission can be trigged by clicking the \"Book\" button or hitting ',(0,t.jsx)(\"kbd\",{children:\"Enter\"}),\" on any of the form fields. The browser will first validate the inputs and trigger the submit event if the fields are valid.\"]}),`\n`,(0,t.jsx)(e.h3,{children:\"State\"}),`\n`,(0,t.jsx)(e.p,{children:'Since we need to toggle the display of the return field, we will need a state value to track whether the selected flight is \"One-way\" or \"Return\" to know whether to render the return date input.'}),`\n`,(0,t.jsxs)(e.p,{children:[\"The \",(0,t.jsx)(e.code,{children:\"formatDate\"}),\" function converts a JavaScript \",(0,t.jsx)(e.code,{children:\"Date\"}),\" object into a \",(0,t.jsx)(e.code,{children:\"YYYY-MM-DD\"}),\" string which is the format expected by \",(0,t.jsx)(e.code,{children:'<input type=\"date\">'}),\".\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Using a controlled form is more convenient here as having state for the date values allows us to specify the current departure date as the \",(0,t.jsx)(e.code,{children:\"min\"}),\" of the return date field and leverage the browser's form validation during submission. Otherwise, we'll have to write custom validation logic in the submission handler.\"]}),`\n`,(0,t.jsx)(p,{}),`\n`,(0,t.jsx)(b,{}),`\n`,(0,t.jsx)(x,{})]})}function X(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(j,n)})):j(n)}var L=X;return S(Y);})();\n;return Component;"
}