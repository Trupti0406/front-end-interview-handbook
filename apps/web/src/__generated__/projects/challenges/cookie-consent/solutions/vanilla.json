{
  "files": {
    "/css/style.css": {
      "code": "@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n}\n\nbody {\n  font-family:\n    'Noto Sans',\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    'Segoe UI',\n    Roboto,\n    Oxygen,\n    Ubuntu,\n    Cantarell,\n    'Open Sans',\n    'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-rendering: optimizeLegibility;\n\n  min-height: 100vh;\n  background: linear-gradient(147.52deg, #f9fafb 8.89%, #d2d6db 100.48%);\n}\n\n.cookie-consent-banner {\n  z-index: 5;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #ffffff;\n  border-top: 1px solid #e6e6e6;\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.08);\n\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  padding: 16px;\n  padding-top: 15px;\n}\n\n.cookie-consent-banner__content {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  font-size: 14px;\n  line-height: 20px;\n  color: #525252;\n}\n\n.cookie-consent-banner__content h6 {\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  color: #171717;\n}\n\n.cookie-consent-banner__content a {\n  color: #4338ca;\n}\n\n.cookie-consent-banner__actions {\n  display: flex;\n  flex-direction: column-reverse;\n  gap: 8px;\n}\n\n.cookie-consent-banner__actions__allow {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.btn {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 14px;\n  height: 44px;\n  box-shadow:\n    0px 1px 3px rgba(0, 0, 0, 0.1),\n    0px 1px 2px rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n\n  border: none;\n  outline: none;\n  font-family: inherit;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 24px;\n  cursor: pointer;\n  width: 100%;\n  white-space: noWrap;\n}\n.btn:focus {\n  box-shadow: 0px 0px 0px 4px rgba(68, 76, 231, 0.12);\n}\n.btn:disabled {\n  pointer-events: none;\n  background: #f5f5f5;\n  color: #a3a3a3;\n  box-shadow: none;\n}\n.btn--primary {\n  background: #4338ca;\n  color: #ffffff;\n}\n.btn--primary:hover,\n.btn--primary:focus {\n  background: #3730a3;\n}\n.btn--secondary {\n  background: #ffffff;\n  border: 0.5px solid #e6e6e6;\n  color: #0a0a0a;\n  box-shadow:\n    0px 1px 3px rgba(0, 0, 0, 0.1),\n    0px 1px 2px rgba(0, 0, 0, 0.06);\n}\n.btn--secondary:hover,\n.btn--secondary:focus {\n  background: #fafafa;\n  border: 1px solid #e6e6e6;\n}\n\n.btn--danger {\n  background: #dc2626;\n  color: #ffffff;\n}\n.btn--danger:hover,\n.btn--danger:focus {\n  background: #b91c1c;\n}\n.btn--danger:focus {\n  box-shadow:\n    0px 0px 0px 1px #d92d20,\n    0px 0px 0px 4px rgba(217, 45, 32, 0.12);\n}\n\n.btn--allow-cookie {\n  width: 100%;\n}\n\n.btn--decline-cookie,\n.btn--popup-decline-cookie {\n  height: 40px;\n  width: 100%;\n\n  font-size: 14px;\n  line-height: 20px;\n}\n\n.popup-overlay {\n  z-index: 10;\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a0a0a70;\n}\n\n.popup {\n  z-index: 11;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  background: #fff;\n  padding: 20px;\n  background: #ffffff;\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.08);\n\n  width: 340px;\n  padding: 24px;\n}\n\n.popup__content {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  font-size: 14px;\n  line-height: 20px;\n  color: #525252;\n}\n\n.popup__content__actions {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.popup__content__actions__allow {\n  display: flex;\n  gap: 8px;\n}\n\n.popup__content__actions__btn__wrapper {\n  flex: 1 1 0%;\n}\n.popup__content__actions__btn {\n  height: 44px;\n}\n\n.popup__content__cookie__header {\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.popup__content__cookie__header h6 {\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n}\n\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 36px;\n  height: 20px;\n}\n\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.switch__slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n  background: #e5e7eb;\n  border: 1px solid #e5e7eb;\n  border-radius: 9999px;\n}\n\ninput:checked + .switch__slider {\n  background-color: #4338ca;\n  border: 1px solid #4338ca;\n}\n\n.switch__slider:before {\n  position: absolute;\n  content: '';\n  left: 1px;\n  bottom: 1px;\n  width: 16px;\n  height: 16px;\n  background: #ffffff;\n  box-shadow:\n    0px 1px 3px rgba(0, 0, 0, 0.1),\n    0px 1px 2px rgba(0, 0, 0, 0.06);\n  border-radius: 9999px;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\ninput:focus + .switch__slider {\n  outline: none;\n  border: 1px solid #9ca3af;\n  box-shadow: 0px 0px 0px 4px rgba(157, 164, 174, 0.2);\n}\ninput:checked:focus + .switch__slider {\n  border: 1px solid #4f46e5;\n  box-shadow: 0px 0px 0px 4px rgba(68, 76, 231, 0.12);\n}\n\ninput:not(:disabled):hover + .switch__slider,\ninput:not(:disabled):focus + .switch__slider {\n  background: #d1d5db;\n}\ninput:checked:not(:disabled):hover + .switch__slider,\ninput:checked:not(:disabled):focus + .switch__slider {\n  background: #3730a3;\n}\n\ninput:checked + .switch__slider:before {\n  -webkit-transform: translateX(16px);\n  -ms-transform: translateX(16px);\n  transform: translateX(16px);\n}\ninput:disabled + .switch__slider {\n  background: #f3f4f6;\n  border: 1px solid #f3f4f6;\n  pointer-events: none;\n}\n\ninput:disabled + .switch__slider:before {\n  background: #d1d5db;\n}\n\n@media screen and (min-width: 768px) {\n  .cookie-consent-banner {\n    padding: 24px 32px;\n    padding-top: 23px;\n  }\n\n  .cookie-consent-banner__actions {\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .btn--allow-cookie {\n    width: 140px;\n  }\n  .btn-secondary.btn--allow-cookie {\n    width: 160px;\n  }\n\n  .btn--decline-cookie {\n    width: 101px;\n  }\n\n  .cookie-consent-banner__actions__allow {\n    flex-direction: row;\n    gap: 16px;\n  }\n\n  .popup {\n    width: 458px;\n  }\n}\n\n@media screen and (min-width: 1024px) {\n  .cookie-consent-banner {\n    padding: 24px 112px;\n    padding-top: 23px;\n  }\n\n  .btn--allow-cookie,\n  .btn-secondary.btn--allow-cookie {\n    width: 184px;\n  }\n\n  .btn--decline-cookie {\n    width: 101px;\n  }\n\n  .popup {\n    width: 384px;\n  }\n}\n"
    },
    "/index.html": {
      "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>Cookie Consent | GreatFrontEnd Projects</title>\n    <link rel=\"stylesheet\" href=\"css/style.css\" />\n  </head>\n  <body>\n    <div class=\"cookie-consent-banner\" id=\"cookie-consent-banner\">\n      <div class=\"cookie-consent-banner__content\">\n        <h6>We use cookies</h6>\n        <p>\n          We use cookies to enhance your browsing experience and improve our\n          website's performance. By continuing to use this site, you consent to\n          the use of cookies. To learn more about how we use cookies and your\n          options, please read our\n          <a href=\"https://greatfrontend.com\">cookie policy</a>.\n        </p>\n      </div>\n      <div class=\"cookie-consent-banner__actions\">\n        <div class=\"cookie-consent-banner__actions__decline\">\n          <button\n            type=\"button\"\n            class=\"btn btn--danger btn--decline-cookie\"\n            id=\"reject-all-cookies\">\n            Decline all\n          </button>\n        </div>\n        <div class=\"cookie-consent-banner__actions__allow\">\n          <button\n            type=\"button\"\n            class=\"btn btn--primary btn--allow-cookie\"\n            id=\"accept-all-cookies\">\n            Allow cookies\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn--secondary btn--allow-cookie\"\n            id=\"manage-cookies\">\n            Manage cookies\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Manage cookie popup -->\n    <div class=\"popup-overlay\" id=\"popup-overlay\">\n      <div class=\"popup\" id=\"popup\">\n        <div class=\"popup__content\">\n          <div class=\"popup__content__cookie\">\n            <div class=\"popup__content__cookie__header\">\n              <h6>Essentials</h6>\n              <label class=\"switch\">\n                <input type=\"checkbox\" checked disabled />\n                <span class=\"switch__slider\"></span>\n              </label>\n            </div>\n            <p>\n              These cookies are essential for the proper functioning of our\n              services and cannot be disabled.\n            </p>\n          </div>\n          <div class=\"popup__content__cookie\">\n            <div class=\"popup__content__cookie__header\">\n              <h6>Analytics</h6>\n              <label class=\"switch\">\n                <input type=\"checkbox\" checked id=\"analytics-consent\" />\n                <span class=\"switch__slider\"></span>\n              </label>\n            </div>\n            <p>\n              These cookies collect information about how you use our services\n              or potential errors you encounter. Based on this information we\n              are able to improve your experience and react to any issues.\n            </p>\n          </div>\n          <div class=\"popup__content__cookie\">\n            <div class=\"popup__content__cookie__header\">\n              <h6>Marketing</h6>\n              <label class=\"switch\">\n                <input type=\"checkbox\" checked id=\"marketing-consent\" />\n                <span class=\"switch__slider\"></span>\n              </label>\n            </div>\n            <p>\n              These cookies allow us to show you advertisements relevant to you\n              through our advertising partners.\n            </p>\n          </div>\n          <div class=\"popup__content__actions\">\n            <div class=\"popup__content__actions__allow\">\n              <div class=\"popup__content__actions__btn__wrapper\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn--primary btn-popup-action\"\n                  id=\"popup-accept-all-cookies\">\n                  Accept all\n                </button>\n              </div>\n              <div class=\"popup__content__actions__btn__wrapper\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn--secondary btn-popup-action\"\n                  id=\"save-cookies\">\n                  Save\n                </button>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn btn--danger btn--popup-decline-cookie\"\n              id=\"popup-reject-all-cookies\">\n              Decline all\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <script src=\"js/index.js\"></script>\n  </body>\n</html>\n"
    },
    "/js/index.js": {
      "code": "const popupElement = document.getElementById('popup-overlay');\nconst cookieConsentBanner = document.getElementById('cookie-consent-banner');\n\nconst analyticsConsent = document.getElementById('analytics-consent');\nconst marketingConsent = document.getElementById('marketing-consent');\n\n// Open manage cookie modal\ndocument\n  .getElementById('manage-cookies')\n  .addEventListener('click', function () {\n    popupElement.style.display = 'block';\n  });\n\npopupElement.addEventListener('click', function (event) {\n  if (event.target === popupElement) {\n    popupElement.style.display = 'none';\n  }\n});\n\nfunction setCookieConsent(marketing, analytics) {\n  // Calculate expiration time (1 year from now in seconds)\n  const expirationTime = 365 * 24 * 60 * 60; // 1 year in seconds\n\n  // Store the consent status in cookies with max-age\n  document.cookie = `essential=${true}; max-age=${expirationTime}; path=/`;\n  document.cookie = `marketing=${marketing}; max-age=${expirationTime}; path=/`;\n  document.cookie = `analytics=${analytics}; max-age=${expirationTime}; path=/`;\n\n  // Hide the cookie consent banner after setting the consent\n  popupElement.style.display = 'none';\n  cookieConsentBanner.style.display = 'none';\n\n  //load the scripts after setting cookies\n  loadScript();\n}\n\n// Accept all cookies\ndocument\n  .getElementById('accept-all-cookies')\n  .addEventListener('click', function () {\n    setCookieConsent(true, true);\n  });\ndocument\n  .getElementById('popup-accept-all-cookies')\n  .addEventListener('click', function () {\n    setCookieConsent(true, true);\n  });\n\n// Reject all cookies\ndocument\n  .getElementById('reject-all-cookies')\n  .addEventListener('click', function () {\n    setCookieConsent(false, false);\n  });\ndocument\n  .getElementById('popup-reject-all-cookies')\n  .addEventListener('click', function () {\n    setCookieConsent(false, false);\n  });\n\n// Save cookies\ndocument.getElementById('save-cookies').addEventListener('click', function () {\n  setCookieConsent(marketingConsent.checked, analyticsConsent.checked);\n});\n\nfunction getCookie(name) {\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) return parts.pop().split(';').shift();\n}\n\n// Check if there's a previous consent\nconst previousEssentialConsent = getCookie('essential');\nconst previousMarketingConsent = getCookie('marketing');\nconst previousAnalyticsConsent = getCookie('analytics');\n\nif (\n  previousEssentialConsent &&\n  previousMarketingConsent &&\n  previousAnalyticsConsent\n) {\n  // Hide the cookie consent banner if all consents are previously given\n  cookieConsentBanner.style.display = 'none';\n}\n\nfunction loadScript() {\n  const previousEssentialConsent = getCookie('essential');\n  const previousMarketingConsent = getCookie('marketing');\n  const previousAnalyticsConsent = getCookie('analytics');\n\n  if (previousEssentialConsent === 'true') {\n    addScript('js/essentials.js');\n  }\n  if (previousMarketingConsent === 'true') {\n    addScript('js/marketing.js');\n  }\n  if (previousAnalyticsConsent === 'true') {\n    addScript('js/analytics.js');\n  }\n}\n\nfunction addScript(src) {\n  let script = document.createElement('script');\n  script.src = src;\n  script.type = 'text/javascript';\n  script.onload = () => console.log(`${src} has been loaded successfully.`);\n  document.head.appendChild(script);\n}\n\n// load script on first load\nloadScript();\n"
    },
    "/package.json": {
      "code": "{\n  \"name\": \"@gfe-challenges/cookie-consent-solution\",\n  \"version\": \"0.0.1\",\n  \"private\": true,\n  \"devDependencies\": {\n    \"parcel\": \"2.9.3\"\n  },\n  \"source\": \"index.html\",\n  \"scripts\": {\n    \"start\": \"parcel\",\n    \"build\": \"parcel build\"\n  }\n}\n"
    }
  },
  "workspace": {
    "visibleFiles": [
      "/index.html",
      "/css/style.css",
      "/js/index.js"
    ],
    "activeFile": "/index.html",
    "environment": "parcel"
  }
}