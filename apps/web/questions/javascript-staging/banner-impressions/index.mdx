---
slug: banner-impressions
title: Banner Impressions
languages: [js]
companies: [amazon]
premium: true
duration: 30
published: false
importance: low
difficulty: easy
---

```js
// Given ad displayed banners log, figure out how many impressions each banner has and how many
// purchases can be attributed to that banner. Banner can be qualified as contributing to purchase if was displayed BEFORE
// the particular product was purchased by particular customer, if several banners were displayed before to the user,
// only the earliest one before purchase counts as contributing to purchase.
// Examples:
// 9am banner 1 displayed for product 1 for customer 1
// 9:30am banner 2 display for product 1 for customer 1
// 10:00am customer 1 makes a purchase of product 1 - only banner 2 counts as contributing to purchase
// final output would look like - keys are ids here
// {1: {totalImpressions: 1, totalPurchase: 0}, 2: {totalImpressions: 1, totalPurchase: 1} }
// example input
const bannersDisplayed = [
  { adId: 1, timestamp: 2, productId: 1, customerId: 1 },
  { adId: 1, timestamp: 3, productId: 1, customerId: 1 },
  { adId: 2, timestamp: 4, productId: 1, customerId: 2 },
  { adId: 2, timestamp: 5, productId: 1, customerId: 2 },
  { adId: 3, timestamp: 9, productId: 1, customerId: 2 },
];
// example input
const purchases = [
  { timestamp: 6, productId: 1, customerId: 1 },
  { timestamp: 7, productId: 1, customerId: 2 },
];
```
